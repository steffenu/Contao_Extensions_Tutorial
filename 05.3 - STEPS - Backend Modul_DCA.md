# Backend Modul

### DCA VERSION

Der alte weg um Backend Module zu erstellen über die DCA Configuration.

### Vorbereitung

> Controller anlegen im Ordner Controller/BackendModule/BackendController.php

    Controller
        BackendModule
            BackendController.php


### Schritt 1

**Das Backend Modul dem BE_MOD array hinzufügen**

    // contao/config/config.php
    $GLOBALS['BE_MOD']['content']['my_module_1'] = [
        'tables' => ['tl_my_module_1'],
    ];

### Schritt 2

**Übersetzung anlegen als .xlf**

    <?xml version="1.0" encoding="UTF-8"?>
    <xliff version="1.1">
      <file datatype="php" original="src/Resources/contao/languages/en/modules.php" source-language="en">
        <body>
          <trans-unit id="MOD.my_module_1.0">
            <source>My Module</source>
          </trans-unit>
          <trans-unit id="MOD.my_module_1.1">
            <source>Manage entries of my module</source>
          </trans-unit>
        </body>
      </file>
    </xliff>

*Hinweis Dateipfad:* <br>
contao/languages/<ISO-language-key>/modules.xlf:


**Übersetzung anlegen als modules.php**

    <?php
    
    declare(strict_types=1);
    
    /*
     * This file is part of Contao My Test Bundle.
     * 
     * (c) Medy 2021 <medy@gmail.com>
     * @license GPL-3.0-or-later
     * For the full copyright and license information,
     * please view the LICENSE file that was distributed with this source code.
     * @link https://github.com/medy/contao-my-test
     */
    
    /**
     * Backend modules
     */
    $GLOBALS['TL_LANG']['MOD']['test_modules'] = 'Test Modules';
    $GLOBALS['TL_LANG']['MOD']['my_test'] = ['My test module', 'My test module'];
    

### Schritt 3

**Assets hinzufügen [OPTIONAL]**

    // contao/config/config.php
    $GLOBALS['BE_MOD']['content']['my_module'] = [
        'tables' => ['tl_my_module'],
        'javascript' => ['bundles/mymodule/scripts.js'],
        'stylesheet' => ['bundles/mymodule/styles.css'],
];


### Schritt 4

**Render Content** [OPTIONAL]

    // contao/config/config.php
    $GLOBALS['BE_MOD']['content']['my_module'] = [
        'callback' => \App\Contao\BackendModule::class
    ];

**Klasse erstellen**

    // src/Contao/BackendModule.php
    namespace App\Contao;
    
    class BackendModule
    {
        public function generate(): string
        {
            return 'string content';
        }
    }


### Schritt 5 DCA CONFIG


    // contao/dca/tl_example.php
    $GLOBALS['TL_DCA']['tl_example'] = [
        'config' => […],
        'list' => […],
        'fields' => […],
        'palettes' => […],
    ];

**Datei erstellen**

    contao-my-test/src/Resources/contao/dca/tl_my_test.php

## DCA konfigurieren

Wir erstellen eine minimale Konfigurationen
in unserer dca datei ``tl_my_test.php`` um zu definieren : 
0. welcher data container driver verwendet wird (commonly Table driver)
1. welche Einträge wie gelisted werden
2. wie Einträge gespeichert werden

**DCA Driver wählen**









### Schritt 6 Translations


**DCA Driver wählen**






### INSTALL

    composer install

**Dependencies updaten**

    composer update

**Datenbank aktualisieren**

Im Browser gehe zu http://contao.loc/contao/install

**Anmerkung**

Wenn du deine Entwicklung deiner Bundles über den /vendors
Ordner betreibst

brauchst du den `composer update` Befehl.

dieser update alle ``Depencencies``
und dauert evt sehr lange ;)

nutze z.B

`composer update steffenu/contao-example-bunde`