# Datenbank

Verbindung mit der Datenbank herstellen
und gespeicherte Daten aus den Contao Tabellen abrufen.


## Service Injection via Type Hinting

Um Services in unseren Controller zu nutzen
(Doctrine oder sonstiges in unseren Conroller verwenden).

brauchen wir :

1. Einen Controller 
2. use statement
3. Kontstruktor methode __construct() / normale mehtode +  Type hinting




       // src/EventListener/DataContainer/MemberDeleteCallbackListener.php
       namespace App\EventListener\DataContainer;

       use Contao\DataContainer;
       use Doctrine\DBAL\Connection;

       class MemberDeleteCallbackListener
       {
           private $db;
    
           public function __construct(Connection $db)
           {
               $this->db = $db;
           }
    
           public function __invoke(DataContainer $dc, int $undoId): void
           {
               if (!$dc->id) {
                   return;
               }
    
               $this->db->delete('tl_foobar', ['member' => (int) $dc->id]);
           }
       }

what is invoke : https://www.youtube.com/watch?v=Y8lRF48oYQE&ab_channel=DailyTuition

## OPTION 1

**Doctrine Dbal Query Builder**


